<div class="container p-4">
    <div class="row">
        <table class="default">
            <caption>Preguntas del seminario</caption>
            <tr><th class="field-big">Pregunta</th><th>De</th><th>Para</th><th>Total de likes</th><th>&#128154;</th></tr>
        {{#each preguntas}}
            <tr><td class="field-big">{{DS_CUESTION}}</td><td>{{DS_ORIGEN}}</td><td>{{DS_DESTINO}}</td><td>{{NM_VOTOS}}</td>
            {{#if VOTADO }}
                <td><a class="btn btn-danger btn-block" onclick="abrirDesvotar({{CD_CUESTION}}, '{{DS_CUESTION}}')">
                    Quitar Like
                </a></td>
            {{else}}
                <td><a class="btn btn-success btn-block" href="preguntas/votar/{{CD_CUESTION}}">
                    Like
                </a></td>
            {{/if}}
            </tr>
        {{/each}}
        </table>
    </div>
</div>

<div class="container p-4">
    <div class="row">
        <a class="btn btn-secondary" href="preguntas/actualizar">
            Actualizar
        </a>
    </div>
</div>

<div class="container p-4">
    <div class="row">
        <div class="col-md-4 mx-auto">
            <div class="card text-center" id="desvotar">
                <div class="card-header">
                    <h3>Â¿Estas segur@ de querer quitarle tu Like a esta pregunta?</h3>
                </div>
                <div class="card-body" >
                    <form action="/seminario/preguntas/desvotar" id="desvotarForm" class="form-container">
                        <p class="m-2" id="text_cuestion"></div>
                        <input type="number" id="pregunta_desvotada" name="CD_CUESTION" class="form-control">
                    <div class="form-group">
                        <button type="submit" id="btn_a" class="btn btn-success btn-block">Quitar Like</button>
                    </div>
                </form>
                    <div class="form-group">
                        <button id="btn_b" class="btn btn-danger btn-block" onclick="cerrarDesvotar()">Cancelar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("btn_a").style.display = "none";
    document.getElementById("btn_b").style.display = "none";
    document.getElementById("desvotar").style.display = "none";
    document.getElementById("pregunta_desvotada").style.display = "none";

    function abrirDesvotar(id, cuestion) {
        document.getElementById("pregunta_desvotada").value = id;
        document.getElementById("text_cuestion").textContent = cuestion
        document.getElementById("desvotar").style.display = "inline-flex";
        document.getElementById("btn_a").style.display = "flex";
        document.getElementById("btn_b").style.display = "flex";
    }
  
    function cerrarDesvotar() {
        document.getElementById("desvotar").style.display = "none";
        document.getElementById("btn_a").style.display = "none";
        document.getElementById("btn_b").style.display = "none";
    }
</script>